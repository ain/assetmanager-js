/*! AssetManager - v0.2.2 - 2014-07-06
* http://github.com/ain/assetmanager-js
* Copyright Â© 2014 Ain Tohvri; Licensed GPL */var AssetManager=function(){"use strict";function a(){this.successCount=0,this.failCount=0,this.cache={},this.queue=[]}return a.prototype.add=function(a,b){return this.queue.push({id:a,path:b})},a.prototype.downloadAll=function(a){for(var b,c=0,d=this.queue.length;d>c;c++)b=new Image,b.assetId=this.queue[c].id,b.callbacks={load:a},b.manager=this,b.addEventListener("load",this.handleImageLoadSuccess),b.addEventListener("error",this.handleImageLoadError),b.src=this.queue[c].path},a.prototype.handleImageLoadSuccess=function(){this.manager.successCount++,this.manager.cache[this.assetId]=this,this.manager.isDone()&&this.callbacks.load.call()},a.prototype.handleImageLoadError=function(){this.manager.failCount++},a.prototype.isDone=function(){return this.queue.length===this.successCount+this.failCount},a.prototype.get=function(a){return this.cache[a]},a}();