/*! AssetManager - v0.2.0 - 2014-01-22
* http://github.com/ain/assetmanager-js
* Copyright (c) 2014 Ain Tohvri; Licensed GPL */function AssetManager(){this.successCount=0,this.failCount=0,this.cache={},this.queue=[]}AssetManager.prototype.add=function(a,b){return this.queue.push({id:a,path:b})},AssetManager.prototype.downloadAll=function(a){for(var b=0,c=this.queue.length;c>b;b++){var d=new Image;d.assetId=this.queue[b].id,d.callbacks={load:a},d.manager=this,d.addEventListener("load",this.handleImageLoadSuccess),d.addEventListener("error",this.handleImageLoadError),d.src=this.queue[b].path}},AssetManager.prototype.handleImageLoadSuccess=function(){this.manager.successCount++,this.manager.cache[this.assetId]=this,this.manager.isDone()&&this.callbacks.load.call()},AssetManager.prototype.handleImageLoadError=function(){this.manager.failCount++},AssetManager.prototype.isDone=function(){return this.queue.length===this.successCount+this.failCount},AssetManager.prototype.get=function(a){return this.cache[a]};